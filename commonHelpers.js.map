{"version":3,"file":"commonHelpers.js","sources":["../src/img/octagon.svg","../src/img/close_button.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__de411352__\"","export default \"__VITE_ASSET__d65044ed__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport octagon from './img/octagon.svg';\nimport closeButton from './img/close_button.svg';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.form-input');\nconst galleryContainer = document.querySelector('.gallery-container');\nconst loader = document.querySelector('.loader');\nconst loaderMarkup = '<p class=\"loader\">Loading images, please wait...</p>';\nconst searchParams = new URLSearchParams({\n  key: '42207525-2f984868f7881b9b68563ca8c',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\nconst gallery = new SimpleLightbox('.gallery-link');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  processingPixabayRequest();\n  form.reset();\n});\n\nfunction pixabayRequest() {\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction processingPixabayRequest() {\n  galleryContainer.innerHTML = loaderMarkup;\n  searchParams.set('q', input.value);\n  pixabayRequest()\n    .then(images => {\n      if (images.hits.length) {\n        galleryContainer.innerHTML = createMarkup(images.hits);\n        gallery.refresh();\n      } else {\n        createPopUp(\n          'Sorry, there are no images matching your search query. Please, try again!'\n        );\n      }\n    })\n    .catch(error => createPopUp('Oops! Something went wrong. Try again!'));\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      item =>\n        `<li class='gallery-item'><a class='gallery-link' href=${item.largeImageURL}><img class='gallery-img' src=${item.webformatURL} width='360' height='200' alt=${item.tags}><span class=\"img-loader\"></span></a><ul class='desc-wrapper'><li class='desc-text'><h3>Likes</h3><p>${item.likes}</p></li><li class='desc-text'><h3>Views</h3><p>${item.views}</p></li><li class='desc-text'><h3>Comments</h3><p>${item.comments}</p></li><li class='desc-text'><h3>Downloads</h3><p>${item.downloads}</p></li></ul></li>`\n    )\n    .join('');\n}\n\nfunction createPopUp(message) {\n  iziToast.show({\n    class: 'my-iziToast',\n    backgroundColor: '#EF4040',\n    messageColor: '#fff',\n    messageSize: 16,\n    messageLineHeight: '24',\n    message: message,\n    position: 'topRight',\n    iconUrl: octagon,\n    progressBarColor: '#B51B1B;',\n    close: false,\n    transitionIn: 'bounceInLeft',\n    transitionOut: 'fadeOutRight',\n    buttons: [\n      [\n        `<button type=\"button\" style=\"background-color: #EF4040; padding-top: 15px; padding-bottom: 15px\"><img src=${closeButton}></button>`,\n        function (instance, toast) {\n          instance.hide({ transitionOut: 'fadeOutRight' }, toast);\n        },\n      ],\n    ],\n    onOpening() {\n      galleryContainer.innerHTML = '';\n\n      input.addEventListener('input', () => {\n        const toast = document.querySelector('.my-iziToast');\n        iziToast.hide(\n          {\n            transitionOut: 'fadeOutRight',\n          },\n          toast\n        );\n      });\n    },\n  });\n}\n"],"names":["octagon","closeButton","form","input","galleryContainer","loaderMarkup","searchParams","gallery","SimpleLightbox","e","processingPixabayRequest","pixabayRequest","response","images","createMarkup","createPopUp","error","arr","item","message","iziToast","instance","toast"],"mappings":"6vBAAA,MAAeA,EAAA,6CCAAC,EAAA,kDCOTC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,aAAa,EAC5CC,EAAmB,SAAS,cAAc,oBAAoB,EACrD,SAAS,cAAc,SAAS,EAC/C,MAAMC,EAAe,uDACfC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EACKC,EAAU,IAAIC,EAAe,eAAe,EAElDN,EAAK,iBAAiB,SAAUO,GAAK,CACnCA,EAAE,eAAc,EAChBC,IACAR,EAAK,MAAK,CACZ,CAAC,EAED,SAASS,GAAiB,CACxB,OAAO,MAAM,4BAA4BL,CAAY,EAAE,EAAE,KAAKM,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASF,GAA2B,CAClCN,EAAiB,UAAYC,EAC7BC,EAAa,IAAI,IAAKH,EAAM,KAAK,EACjCQ,EAAgB,EACb,KAAKE,GAAU,CACVA,EAAO,KAAK,QACdT,EAAiB,UAAYU,EAAaD,EAAO,IAAI,EACrDN,EAAQ,QAAO,GAEfQ,EACE,2EACV,CAEA,CAAK,EACA,MAAMC,GAASD,EAAY,wCAAwC,CAAC,CACzE,CAEA,SAASD,EAAaG,EAAK,CACzB,OAAOA,EACJ,IACCC,GACE,yDAAyDA,EAAK,aAAa,iCAAiCA,EAAK,YAAY,iCAAiCA,EAAK,IAAI,wGAAwGA,EAAK,KAAK,mDAAmDA,EAAK,KAAK,sDAAsDA,EAAK,QAAQ,uDAAuDA,EAAK,SAAS,qBACje,EACA,KAAK,EAAE,CACZ,CAEA,SAASH,EAAYI,EAAS,CAC5BC,EAAS,KAAK,CACZ,MAAO,cACP,gBAAiB,UACjB,aAAc,OACd,YAAa,GACb,kBAAmB,KACnB,QAASD,EACT,SAAU,WACV,QAASnB,EACT,iBAAkB,WAClB,MAAO,GACP,aAAc,eACd,cAAe,eACf,QAAS,CACP,CACE,6GAA6GC,CAAW,aACxH,SAAUoB,EAAUC,EAAO,CACzBD,EAAS,KAAK,CAAE,cAAe,cAAgB,EAAEC,CAAK,CACvD,CACF,CACF,EACD,WAAY,CACVlB,EAAiB,UAAY,GAE7BD,EAAM,iBAAiB,QAAS,IAAM,CACpC,MAAMmB,EAAQ,SAAS,cAAc,cAAc,EACnDF,EAAS,KACP,CACE,cAAe,cAChB,EACDE,CACV,CACA,CAAO,CACF,CACL,CAAG,CACH"}